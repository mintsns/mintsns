# モデル設計

## Post
* EXPERIMENTAL: dynamiteで管理する。
* コメントができる
* Public投稿と Limited投稿がある
* Limtied投稿の場合、投稿したタイミングで指定されたゾーンにマッチするユーザーがその投稿を見られる(あとからユーザーがそのゾーンに入ってもその投稿を見ることはできない)
* 時間制限投稿(指定された時間を過ぎるとその投稿は削除される)
* dynamiteで管理する
* フォーマットはJSON

## Comment
* dynamiteで管理する
* フォーマットはJSON

## User
* postgresで管理する。
* Google アカウントでログインする
* Google のアイコンがそのまま使用される（予定)
* キャッチフレーズが編集できる
* ユーザーに設定されてあるタグ一覧が見れる

## Notification
* postgresで管理する。通知は100件以上の古いものは破棄する

## Stream(MainStream)
* Twitterのタイムラインのようなもの
* メインストリームは複数のZoneの条件にどれか一つでも当てはまった投稿が流れる

## CustomStream
* ゾーンが設定されたストリームのこと
* ゾーンが設定されているので、流したい投稿を絞り込むことができる
* カスタムストリームは公開設定ができる。公開した場合は、おすすめのゾーンで紹介される。
* ここで公開されたゾーンを元に、投稿範囲をうまく調整することになる。

## Zone
* 設定値自体はpostgesで管理する
* 実際にこの設定値を使ってどのようなタイムラインを配信するかは、 dynamitesが決定する
* ゾーンエディタがあり、ゾーンは自由に作成できる
* ゾーンは、自分のタグを見せる人を限定させる場合や、ストリームを作成する時に使用できる
* ↑<数字>と↓<数字>とxが指定できる。×はそのタグが含まれているユーザーは表示しない

## Tag
* ユーザー属性タグ
* 他人、または自分にタグをつけることができる
* タグは投票することができて、すでにあるタグに再び投票する場合は、タグポイントが加算される
* [Point] なぜ自分で自分にタグをつけられるのか
  * タグは一種類につき1ポイントしかつけることができないため、自分でタグを設定したところでは、2ポイント以上のゾーンが指定されてあるストリームを見れない。しかし、好きな趣味についてタグを設定してもらうのに他人にタグをつけてもらうようお願いすることが必ず発生してしまうし、サブアカウントで自分にタグをつけることもあるだろう。そのため、自分で自分にタグをつけるのは認める。
* タグは非公開設定できる（ただし非公開にしたタグはポイントがあがりにくくなる）
* タグにもゾーンを設定できる（あるゾーンに含まれているユーザーのみそのタグが見れる）


## MintPoint
* タグポイントの合計値のこと
* この数値の数によって人気度がわかる

## Point
* ランプポイント
* Google+ の +1 的なボタン
